name: Schedule > Weekly

on:
  schedule:
    - cron: "0 0 * * 0" # Runs at 00:00, only on Sunday
  workflow_dispatch:

jobs:
  schedule:
    name: Schedule Weekly
    permissions:
      contents: write
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v5
      - name: Setup Bun
        uses: oven-sh/setup-bun@v2
      - name: Install Dependencies
        run: bun install
      - name: Schedule Weekly
        run: bun run 'scripts/schedule-weekly.ts'
        env:
          GITHUB_TOKEN: ${{ github.token }}
